<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<style>
	.red {
		color: red;
	}
	.border-red {
		border: red 1px solid;
	}
</style>
<link
	rel="icon"
	href="../../favicon.ico">
<link
	href="css/bootstrap.min.css"
	rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script
	src="js/jquery.validate.js"
	type="text/javascript"></script>
<script
	src="js/customjslib.js"
	type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function () {
	 $("#register_form").validate({
		 focusCleanup: true,
		 rules: {
			 nickname: {
				 minlength: 2,
				 maxlength: 32
			 },
			 name: {
				 minlength: 2,
				 maxlength: 64
			 },
			 password: {
				 minlength: 5,
				 maxlength: 64
			 },
		 },
		 messages: {
			 nickname: {
                required: "Especifica un apodo",
                minlength: "El apodo debe tener 2 caracteres como mínimo",
                maxlength: "Máximo 32 caracteres",
			 },
			 name: {
				 minlength: "El nombre debe tener 2 caracteres como mínimo",
				 maxlength: "Máximo 64 caracteres",
			 },
			 password: {
				 minlength: "La contraseña debe tener al menos 5 caracteres",
				 maxlength: "Máximo 64 caracteres",
			 },
		 },
		 errorPlacement: function(error, element) {
	            error.insertBefore(element);
	            error.addClass("red");
		 },
		 highlight: function (element) {
			 $(element).removeClass("border-red");
	     },
	     unhighlight: function (element) {
	    	 $(element).removeClass("border-red");
	    	 // TODO: RED STYLE ERRORS
	     },
	 });
});
</script>
</head>
</script>
<body>
	<header class="container">
		<h1>BIENVENIDO A "APP"</h1>
	</header>
	<article class="container">
		<form
			class="form"
			action="#"
			id="register_form"
			th:action="@{/register}"
			th:object="${user}"
			enctype="multipart/form-data"
			method="post">
			<h2 class="form-heading">Registro</h2>
			<label
				for="nickname"
				class="">Apodo</label>
			<input
				type="text"
				th:field="*{nickname}"
				id="nickname"
				name="nickname"
				class="form-control"
				placeholder="Nickname"
				required
				autofocus>
			<span
				th:if="${#fields.hasErrors('nickname')}"
				th:errors="*{nickname}"></span>
			<label
				for="name"
				class="">Nombre</label>
			<input
				type="text"
				th:field="*{name}"
				id="name"
				name="name"
				class="form-control"
				placeholder="Name"
				required>
			<span
				th:if="${#fields.hasErrors('name')}"
				th:errors="*{name}"></span>
			<label
				for="avatar"
				class="">Avatar</label>
			<input
				type="file"
				name="avatar_image"
				id="avatar"
				accept="image/*"
				class="form-control">
			<label
				for="inputPassword"
				class="">Contrase&ntilde;a</label>
			<span
				th:if="${#fields.hasErrors('password')}"
				th:errors="*{password}"></span>
			<input
				type="password"
				th:field="*{password}"
				id="inputPassword"
				name="password"
				class="form-control"
				placeholder="Password"
				required>
			<label
				for="checkPassword"
				class="">Repite contrase&ntilde;a</label>
			<input
				type="password"
				name="checkPassword"
				id="checkPassword"
				class="form-control"
				placeholder="Retype Password"
				required>
			<input
				class="btn btn-lg btn-primary btn-block"
				type="submit"
				value="Registrarse"
				onclick="return matchPasswords()">
		</form>
		<section class="container form">
			<h3>Ya tienes una cuenta?</h3>
			<form
				th:action="@{/}"
				method="get">
				<input
					class="btn btn-lg btn-primary btn-block"
					type="submit"
					value="Log in">
			</form>
		</section>
	</article>
	<footer class="container">oc pls dont steal</footer>
</body>
</html>